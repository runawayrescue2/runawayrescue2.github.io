<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Runaway Rescue</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="site-header">
    <div class="container header-inner">
      <div class="brand">
        <div class="logo">SP</div>
        <div>
          <div class="title">Stray Pals</div>
          <div class="small">Profile</div>
        </div>
      </div>
      <nav>
        <a class="btn btn-ghost" href="index.html">Back to list</a>
      </nav>
    </div>
  </header>

  <main class="container" style="padding:20px 16px;">
    <div id="profile" class="profile-grid">
      <!-- populated by JS -->
    </div>
  </main>

  <script>
    // Same dataset as index for demo. In production fetch from API or server.
    const animals = [
      { id: 1, name: "Miso", species: "Cat", breed: "Mixed", gender: "Female", yob: "2022", age: "2 yrs", weight: "4 kg", status: "Available", img: "https://placekitten.com/1200/800", location: "Gimhae", reg: "경남-김해-2023-00294", found: "2023-03-10", shelter: "Samcheok Shelter", contact: "033-570-2610", desc: "Calm lap cat who loves naps." },
      { id: 2, name: "Bori", species: "Dog", breed: "Mixed", gender: "Male", yob: "2023", age: "1 yr", weight: "8 kg", status: "Fostered", img: "https://placedog.net/1200/800", location: "Sancheong", reg: "경남-산청-2023-00292", found: "2023-04-02", shelter: "Sancheong Shelter", contact: "055-000-0000", desc: "Playful and smart, great with kids." },
      { id: 3, name: "Nuri", species: "Dog", breed: "Mixed", gender: "Male", yob: "2017", age: "Adult", weight: "17 kg", status: "Available", img: "https://images.unsplash.com/photo-1558788353-f76d92427f16?q=80&w=1200&auto=format&fit=crop", location: "Gyeongju", reg: "경북-경주-2025-00532", found: "2025-01-12", shelter: "Gyeongju Shelter", contact: "054-000-0000", desc: "Loyal companion, house-trained." }
    ];

    function getQueryParam(name) {
      const params = new URLSearchParams(location.search);
      return params.get(name);
    }

    function renderProfile(id) {
      const a = animals.find(x => String(x.id) === String(id));
      const container = document.getElementById('profile');
      if (!a) {
        container.innerHTML = '<p class="small">Profile not found. <a href="index.html">Return to list</a></p>';
        return;
      }

      container.innerHTML = `
        <div class="card profile-card">
          <div class="profile-media">
            <img src="${a.img}" alt="${a.name}">
            <div class="badge">${a.weight}</div>
          </div>
          <div class="profile-body">
            <div style="display:flex;justify-content:space-between;align-items:flex-start;gap:12px">
              <div>
                <h1 style="margin:0">${a.name}</h1>
                <div class="small">${a.species} • ${a.breed} • ${a.gender}</div>
              </div>
              <div style="text-align:right">
                <div class="status ${a.status.toLowerCase() === 'available' ? 'available' : a.status.toLowerCase() === 'fostered' ? 'fostered' : 'adopted'}">${a.status}</div>
                <div class="small" style="margin-top:8px">${a.location}</div>
              </div>
            </div>

            <div class="kv" style="margin-top:12px">
              <div><strong>Registration</strong><div class="small">${a.reg}</div></div>
              <div><strong>Year of birth</strong><div class="small">${a.yob}</div></div>
            </div>

            <p class="card-desc" style="margin-top:12px">${a.desc}</p>

            <div class="kv" style="margin-top:12px">
              <div><strong>Shelter</strong><div class="small">${a.shelter}</div></div>
              <div><strong>Contact</strong><div class="small">${a.contact}</div></div>
            </div>

            <div style="margin-top:18px;display:flex;gap:10px">
              <a class="btn btn-primary" href="mailto:info@example.org?subject=Inquiry about ${encodeURIComponent(a.name)}">Contact Shelter</a>
              <a class="btn btn-ghost" href="index.html">Back</a>
            </div>
          </div>
        </div>
      `;
    }

    // On load, read id and render
    const id = getQueryParam('id') || '1';
    renderProfile(id);
  </script>
</body>
</html>
